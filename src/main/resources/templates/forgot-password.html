<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <th:block th:insert="~{partials/meta-header :: meta-header}"></th:block>
  <title>Forgot Password</title>
  <th:block th:insert="~{partials/header-links :: header-links}"></th:block>
</head>
<body>

<div>

  <div class="input-group mb-3 login-input-group">
    <span class="input-group-text">Username</span>
    <input id="username-input" type="text" name="username" class="forgot-password-input">
  </div>

  <div class="input-group mb-3 login-input-group">
    <span class="input-group-text">Email</span>
    <input id="password-input" type="text" name="email" class="forgot-password-input">
  </div>

  <input id="forgot-password-submit-btn" class="btn btn-success w-100" value="Submit"/>

</div>

<th:block th:insert="~{partials/footer :: footer}"></th:block>

<th:block th:insert="~{partials/footer-links :: footer-links}"></th:block>
<script>

  $("#forgot-password-submit-btn").on("click", async function() {
    let usernameInputValue = $("#username-input").val();
    let emailInputValue = $("#password-input").val();

    console.log(usernameInputValue);
    console.log(emailInputValue);


    const requestData = {
      username: usernameInputValue,
      email: emailInputValue
    };


    let response = await fetch("/forgot-password" , {
      method: 'POST',
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(requestData)
    });

    if (response.ok) {
      console.log("worked fine")
    } else {
      // handle error
    }
  });


</script>
</body>
</html>
